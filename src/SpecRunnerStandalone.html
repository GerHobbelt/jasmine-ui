<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!--
  This file contains all needed code to run jasmine and jasmine ui tests.
  Add your test files at the end -->
<head>
    <title>Jasmine Test Runner</title>
    <!-- minified css -->
    <style>
 body{ font-family:"Helvetica Neue Light","Lucida Grande","Calibri","Arial",sans-serif} .jasmine_reporter a:visited,.jasmine_reporter a{ color:#303} .jasmine_reporter a:hover,.jasmine_reporter a:active{ color:blue} .run_spec{ float:right; padding-right:5px; font-size:.8em; text-decoration:none} .jasmine_reporter{ margin:0 5px} .banner{ color:#303; background-color:#fef; padding:5px} .logo{ float:left; font-size:1.1em; padding-left:5px} .logo .version{ font-size:.6em; padding-left:1em} .runner.running{ background-color:yellow} .options{ text-align:right; font-size:.8em} .suite{ border:1px outset gray; margin:5px 0; padding-left:1em} .suite .suite{ margin:5px} .suite.passed{ background-color:#dfd} .suite.failed{ background-color:#fdd} .spec{ margin:5px; padding-left:1em; clear:both} .spec.failed,.spec.passed,.spec.skipped{ padding-bottom:5px; border:1px solid gray} .spec.failed{ background-color:#fbb; border-color:red} .spec.passed{ background-color:#bfb; border-color:green} .spec.skipped{ background-color:#bbb} .messages{ border-left:1px dashed gray; padding-left:1em; padding-right:1em} .passed{ background-color:#cfc; display:none} .failed{ background-color:#fbb} .skipped{ color:#777; background-color:#eee; display:none}    .resultMessage span.result{ display:block; line-height:2em; color:black} .resultMessage .mismatch{ color:black} .stackTrace{ white-space:pre; font-size:.8em; margin-left:10px; max-height:5em; overflow:auto; border:1px inset red; padding:1em; background:#eef} .finished-at{ padding-left:1em; font-size:.6em} .show-passed .passed, .show-skipped .skipped{ display:block} #jasmine_content{ position:fixed; right:100%} .runner{ border:1px solid gray; display:block; margin:5px 0; padding:2px 0 2px 10px}
    </style>

    <script type="text/javascript" src="../lib/jasmine.js"></script>

    <!-- Minified jasmine-html.js -->
    <script type="text/javascript">
jasmine.TrivialReporter=function(doc){this.document=doc||document;this.suiteDivs={};this.logRunningSpecs=false;};jasmine.TrivialReporter.prototype.createDom=function(type,attrs,childrenVarArgs){var el=document.createElement(type);for(var i=2;i<arguments.length;i++){var child=arguments[i];if(typeof child==='string'){el.appendChild(document.createTextNode(child));}else{if(child){el.appendChild(child);}}}
for(var attr in attrs){if(attr=="className"){el[attr]=attrs[attr];}else{el.setAttribute(attr,attrs[attr]);}}
return el;};jasmine.TrivialReporter.prototype.reportRunnerStarting=function(runner){var showPassed,showSkipped;this.outerDiv=this.createDom('div',{className:'jasmine_reporter'},this.createDom('div',{className:'banner'},this.createDom('div',{className:'logo'},this.createDom('a',{href:'http://pivotal.github.com/jasmine/',target:"_blank"},"Jasmine"),this.createDom('span',{className:'version'},runner.env.versionString())),this.createDom('div',{className:'options'},"Show ",showPassed=this.createDom('input',{id:"__jasmine_TrivialReporter_showPassed__",type:'checkbox'}),this.createDom('label',{"for":"__jasmine_TrivialReporter_showPassed__"}," passed "),showSkipped=this.createDom('input',{id:"__jasmine_TrivialReporter_showSkipped__",type:'checkbox'}),this.createDom('label',{"for":"__jasmine_TrivialReporter_showSkipped__"}," skipped"))),this.runnerDiv=this.createDom('div',{className:'runner running'},this.createDom('a',{className:'run_spec',href:'?'},"run all"),this.runnerMessageSpan=this.createDom('span',{},"Running..."),this.finishedAtSpan=this.createDom('span',{className:'finished-at'},"")));this.document.body.appendChild(this.outerDiv);var suites=runner.suites();for(var i=0;i<suites.length;i++){var suite=suites[i];var suiteDiv=this.createDom('div',{className:'suite'},this.createDom('a',{className:'run_spec',href:'?spec='+encodeURIComponent(suite.getFullName())},"run"),this.createDom('a',{className:'description',href:'?spec='+encodeURIComponent(suite.getFullName())},suite.description));this.suiteDivs[suite.id]=suiteDiv;var parentDiv=this.outerDiv;if(suite.parentSuite){parentDiv=this.suiteDivs[suite.parentSuite.id];}
parentDiv.appendChild(suiteDiv);}
this.startedAt=new Date();var self=this;showPassed.onclick=function(evt){if(showPassed.checked){self.outerDiv.className+=' show-passed';}else{self.outerDiv.className=self.outerDiv.className.replace(/ show-passed/,'');}};showSkipped.onclick=function(evt){if(showSkipped.checked){self.outerDiv.className+=' show-skipped';}else{self.outerDiv.className=self.outerDiv.className.replace(/ show-skipped/,'');}};};jasmine.TrivialReporter.prototype.reportRunnerResults=function(runner){var results=runner.results();var className=(results.failedCount>0)?"runner failed":"runner passed";this.runnerDiv.setAttribute("class",className);this.runnerDiv.setAttribute("className",className);var specs=runner.specs();var specCount=0;for(var i=0;i<specs.length;i++){if(this.specFilter(specs[i])){specCount++;}}
var message=""+specCount+" spec"+(specCount==1?"":"s")+", "+results.failedCount+" failure"+((results.failedCount==1)?"":"s");message+=" in "+((new Date().getTime()-this.startedAt.getTime())/1000)+"s";this.runnerMessageSpan.replaceChild(this.createDom('a',{className:'description',href:'?'},message),this.runnerMessageSpan.firstChild);this.finishedAtSpan.appendChild(document.createTextNode("Finished at "+new Date().toString()));};jasmine.TrivialReporter.prototype.reportSuiteResults=function(suite){var results=suite.results();var status=results.passed()?'passed':'failed';if(results.totalCount==0){status='skipped';}
this.suiteDivs[suite.id].className+=" "+status;};jasmine.TrivialReporter.prototype.reportSpecStarting=function(spec){if(this.logRunningSpecs){this.log('>> Jasmine Running '+spec.suite.description+' '+spec.description+'...');}};jasmine.TrivialReporter.prototype.reportSpecResults=function(spec){var results=spec.results();var status=results.passed()?'passed':'failed';if(results.skipped){status='skipped';}
var specDiv=this.createDom('div',{className:'spec '+status},this.createDom('a',{className:'run_spec',href:'?spec='+encodeURIComponent(spec.getFullName())},"run"),this.createDom('a',{className:'description',href:'?spec='+encodeURIComponent(spec.getFullName()),title:spec.getFullName()},spec.description));var resultItems=results.getItems();var messagesDiv=this.createDom('div',{className:'messages'});for(var i=0;i<resultItems.length;i++){var result=resultItems[i];if(result.type=='log'){messagesDiv.appendChild(this.createDom('div',{className:'resultMessage log'},result.toString()));}else if(result.type=='expect'&&result.passed&&!result.passed()){messagesDiv.appendChild(this.createDom('div',{className:'resultMessage fail'},result.message));if(result.trace.stack){messagesDiv.appendChild(this.createDom('div',{className:'stackTrace'},result.trace.stack));}}}
if(messagesDiv.childNodes.length>0){specDiv.appendChild(messagesDiv);}
this.suiteDivs[spec.suite.id].appendChild(specDiv);};jasmine.TrivialReporter.prototype.log=function(){var console=jasmine.getGlobal().console;if(console&&console.log){if(console.log.apply){console.log.apply(console,arguments);}else{console.log(arguments);}}};jasmine.TrivialReporter.prototype.getLocation=function(){return this.document.location;};jasmine.TrivialReporter.prototype.specFilter=function(spec){var paramMap={};var params=this.getLocation().search.substring(1).split('&');for(var i=0;i<params.length;i++){var p=params[i].split('=');paramMap[decodeURIComponent(p[0])]=decodeURIComponent(p[1]);}
if(!paramMap["spec"])return true;return spec.getFullName().indexOf(paramMap["spec"])==0;};
    </script>

    <!-- Script for detecting javascript urls in directory listings and including them in the current page -->
    <script type="text/javascript">
        function getUrlContent(url) {
            var xhr = new XMLHttpRequest();
            xhr.open('GET', url, false);
            xhr.send();
            return xhr.responseText;
        }

        function findJsUrls(text) {
            var regex = /href\s*=\s*"([^"]+.js)"/ig;
            var match;
            var res = [];
            while (match = regex.exec(text) ) {
                res.push(match[1]);
            }
            return res;
        }

        function writeJsLinksToDocument(links) {
            var lessThan = String.fromCharCode(60);
            for (var i=0; i<links.length; i++) {
                document.write(lessThan+'script type="text/javascript" src="'+links[i]+'">'+lessThan+"/script>");
            }
        }
        function loadDir(dir) {
            var content = getUrlContent(dir);
            var jsUrls = findJsUrls(content);
            writeJsLinksToDocument(jsUrls);
        }
    </script>

<!-- #################################################################################################
     #### ADD YOUR LIBS AND SPECS HERE ###############################################################
     ################################################################################################# -->
    <!-- include lib files here... -->
    <script type="text/javascript" src="jasmine-ui.js"></script>
    <script type="text/javascript" src="../test/lib/jquery-1.5.1.js"></script>

    <!-- include spec files here... -->
    <script type="text/javascript">
        loadDir('../test/ui/');
        loadDir('../test/unit/');
    </script>
    <!--
    <script type="text/javascript"  src="../test/ui/historySpec.js"></script>
    <script type="text/javascript"  src="../test/ui/loadHtmlSpec.js"></script>
    <script type="text/javascript"  src="../test/ui/multiPageSpec.js"></script>
    <script type="text/javascript"  src="../test/ui/waitsForAsyncSpec.js"></script>
    -->
<!-- ################################################################################################# -->

</head>
<body>
<!-- execute jasmine tests -->
<script type="text/javascript">
    jasmine.getEnv().addReporter(new jasmine.TrivialReporter());
    jasmine.getEnv().execute();
</script>

</body>
</html>
